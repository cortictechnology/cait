var a0_0x5af6=['includes','value','microphones','cait/vision_control','push','name','CAIT\x20UP','Failed\x20Connecting,\x20Retrying...','connect','remove','type','createElement','Client','errorCode','src','text','Input','publish','options','Message','add','length','Connected\x20to\x20cait','random','cameras','cait/displayFrame','location','cameraImage','cait_','/testmicrophone','Camera\x20Index:\x20','index','zIndex','log','payloadString','display','POST','Now\x20say\x20something...','ajax','style','splice','ResetMode','innerHTML','onMessageArrived','/getaudiodev','topic','subscribe','cait/system_status','onConnectionLost:','device','selectedIndex','none','/testcam','setAttribute','option','errorMessage','hostname','flex','onConnectionLost','VisionDown','speakers','getElementById','/static/img/video_placeholder.png'];(function(_0x45357c,_0x235918){var _0x5af65d=function(_0x48c549){while(--_0x48c549){_0x45357c['push'](_0x45357c['shift']());}};_0x5af65d(++_0x235918);}(a0_0x5af6,0xe5));var a0_0x48c5=function(_0x45357c,_0x235918){_0x45357c=_0x45357c-0x11d;var _0x5af65d=a0_0x5af6[_0x45357c];return _0x5af65d;};var _0x587bfc=a0_0x48c5,stopStreaming=!![],hostname=window[_0x587bfc(0x14e)][_0x587bfc(0x12d)],clientID=_0x587bfc(0x150)+parseInt(Math[_0x587bfc(0x14b)]()*0x64),client=new Paho[(_0x587bfc(0x140))](hostname,0x1f93,clientID);client[_0x587bfc(0x12f)]=onConnectionLost,client[_0x587bfc(0x120)]=onMessageArrived;var cait_system_up=![];function MQTTconnect(){var _0x1d7df3=_0x587bfc;client[_0x1d7df3(0x13c)]({'onSuccess':onConnect,'onFailure':onFailure,'reconnect':!![]});}MQTTconnect();function onFailure(_0x1f9865){var _0x54e612=_0x587bfc;console['log'](_0x54e612(0x13b)),setTimeout(MQTTconnect,0x1f4);}function onConnect(){var _0x5567dc=_0x587bfc;console[_0x5567dc(0x155)](_0x5567dc(0x14a)),client[_0x5567dc(0x123)](_0x5567dc(0x14d)),client[_0x5567dc(0x123)](_0x5567dc(0x124)),stopVideoFeed(),emptyVisionMode();}function onConnectionLost(_0x291f5f){var _0x2e9c96=_0x587bfc;_0x291f5f[_0x2e9c96(0x141)]!==0x0&&(console['log'](_0x2e9c96(0x125)+_0x291f5f[_0x2e9c96(0x12c)]),cait_system_up=![],loader[_0x2e9c96(0x15b)][_0x2e9c96(0x157)]=_0x2e9c96(0x12e),loader['style'][_0x2e9c96(0x154)]=0x1,setTimeout(MQTTconnect,0x1f4));}function onMessageArrived(_0x3d17f2){var _0x2c566f=_0x587bfc;_0x3d17f2[_0x2c566f(0x156)]==_0x2c566f(0x13a)?!cait_system_up&&(cait_system_up=!![],loader['style'][_0x2c566f(0x157)]=_0x2c566f(0x128)):stopStreaming?document[_0x2c566f(0x132)]('cameraImage')[_0x2c566f(0x12a)](_0x2c566f(0x142),_0x2c566f(0x133)):document[_0x2c566f(0x132)](_0x2c566f(0x14f))[_0x2c566f(0x12a)](_0x2c566f(0x142),'data:image/png;base64,'+_0x3d17f2[_0x2c566f(0x156)]);}function stopVideoFeed(){var _0x1776fa=_0x587bfc;topicMessage=new Paho['Message'](_0x1776fa(0x130)),topicMessage[_0x1776fa(0x122)]=_0x1776fa(0x137),client['publish'](topicMessage);}function emptyVisionMode(){var _0x27dc04=_0x587bfc;topicMessage=new Paho[(_0x27dc04(0x147))](_0x27dc04(0x11e)),topicMessage[_0x27dc04(0x122)]=_0x27dc04(0x137),client[_0x27dc04(0x145)](topicMessage);}async function ajax_post(_0x5ed24f,_0x2a05b6){var _0x29d07d=_0x587bfc;return $[_0x29d07d(0x15a)]({'url':_0x5ed24f,'type':_0x29d07d(0x158),'data':_0x2a05b6});}async function test_camera(){var _0x4961d8=_0x587bfc,_0x54c265=document['getElementById'](_0x4961d8(0x14c)),_0xb3100=_0x54c265['options'][_0x54c265[_0x4961d8(0x127)]][_0x4961d8(0x135)],_0x54d304=_0xb3100[0x0];console[_0x4961d8(0x155)](_0x4961d8(0x152)+String(_0x54d304));try{const _0x763040=await ajax_post(_0x4961d8(0x129),{'index':_0x54d304});stopStreaming=![],console[_0x4961d8(0x155)](_0x763040);}catch(_0xbec0dd){return console[_0x4961d8(0x155)](_0xbec0dd),_0xbec0dd;}}var current_video_devices=[],current_audio_devices=[];async function get_video_devices(){var _0x25a3c4=_0x587bfc;try{const _0x392b2d=await ajax_post('/getvideodev',{});var _0x3b6f2e=document[_0x25a3c4(0x132)]('cameras');_0x3b6f2e[_0x25a3c4(0x11f)]='';var _0x3b342d=[];for(var _0x48d33f=0x0;_0x48d33f<_0x392b2d[_0x25a3c4(0x149)];_0x48d33f++){device=_0x392b2d[_0x48d33f],device_name=device[_0x25a3c4(0x153)]+':\x20'+device['device'],_0x3b342d['push'](device_name),current_video_devices['includes'](device_name)==![]&&current_video_devices[_0x25a3c4(0x138)](device_name);}for(var _0x5ca14f=0x0;_0x5ca14f<_0x392b2d[_0x25a3c4(0x149)];_0x5ca14f++){exist_device=current_video_devices[_0x5ca14f],_0x3b342d[_0x25a3c4(0x134)](exist_device)==![]&&current_video_devices[_0x25a3c4(0x11d)](_0x5ca14f,0x1);}for(var _0xeff91f=0x0;_0xeff91f<_0x392b2d['length'];_0xeff91f++){device=current_video_devices[_0xeff91f];var _0x3fbc7e=document[_0x25a3c4(0x13f)](_0x25a3c4(0x12b));_0x3fbc7e[_0x25a3c4(0x143)]=device,_0x3b6f2e[_0x25a3c4(0x148)](_0x3fbc7e);}}catch(_0x5868d9){return console['log'](_0x5868d9),_0x5868d9;}}get_video_devices(),setInterval(get_video_devices,0x1388);async function get_audio_devices(){var _0x5ca1ff=_0x587bfc;try{const _0x436385=await ajax_post(_0x5ca1ff(0x121),{});var _0x12cbb5=document[_0x5ca1ff(0x132)](_0x5ca1ff(0x131)),_0x40708b=[];for(var _0x3cfc90=0x0,_0x3b48d5=_0x12cbb5[_0x5ca1ff(0x146)][_0x5ca1ff(0x149)];_0x3cfc90<_0x3b48d5;_0x3cfc90++){if(_0x12cbb5[_0x5ca1ff(0x146)][_0x3cfc90]['value'])_0x40708b[_0x5ca1ff(0x138)](_0x12cbb5[_0x5ca1ff(0x146)][_0x3cfc90][_0x5ca1ff(0x135)]);}var _0x5863be=document[_0x5ca1ff(0x132)](_0x5ca1ff(0x136));microphone_options=[];for(var _0x3cfc90=0x0,_0x3b48d5=_0x5863be[_0x5ca1ff(0x146)][_0x5ca1ff(0x149)];_0x3cfc90<_0x3b48d5;_0x3cfc90++){if(_0x5863be[_0x5ca1ff(0x146)][_0x3cfc90][_0x5ca1ff(0x135)])microphone_options['push'](_0x5863be['options'][_0x3cfc90][_0x5ca1ff(0x135)]);}var _0x3dccbe=[];for(var _0x3cfc90=0x0;_0x3cfc90<_0x436385[_0x5ca1ff(0x149)];_0x3cfc90++){device=_0x436385[_0x3cfc90],device_index=device[_0x5ca1ff(0x153)],device_name=device[_0x5ca1ff(0x126)],device_type=device[_0x5ca1ff(0x13e)],this_device={'name':device_name,'type':device_type,'index':device_index},_0x3dccbe['push'](this_device);var _0x159804=!![];for(dev in current_audio_devices){current_dev=current_audio_devices[dev],current_dev['name']==device_name&&current_dev[_0x5ca1ff(0x153)]==device_index&&(_0x159804=![]);}_0x159804&&current_audio_devices[_0x5ca1ff(0x138)](this_device);}for(var _0x19dfcf=0x0;_0x19dfcf<_0x436385[_0x5ca1ff(0x149)];_0x19dfcf++){exist_device=current_audio_devices[_0x19dfcf],device_gone=!![];for(dev in _0x3dccbe){current_dev=_0x3dccbe[dev],current_dev['name']==exist_device[_0x5ca1ff(0x139)]&&current_dev[_0x5ca1ff(0x153)]==exist_device[_0x5ca1ff(0x153)]&&(device_gone=![]);}device_gone&&current_audio_devices[_0x5ca1ff(0x11d)](_0x19dfcf,0x1);}for(var _0x3de578=0x0;_0x3de578<current_audio_devices[_0x5ca1ff(0x149)];_0x3de578++){device=current_audio_devices[_0x3de578];var _0x4eeefb=document[_0x5ca1ff(0x13f)](_0x5ca1ff(0x12b));_0x4eeefb[_0x5ca1ff(0x143)]=device[_0x5ca1ff(0x153)]+':\x20'+device[_0x5ca1ff(0x139)],device[_0x5ca1ff(0x13e)]==_0x5ca1ff(0x144)?microphone_options['includes'](_0x4eeefb[_0x5ca1ff(0x143)])==![]&&(_0x5863be[_0x5ca1ff(0x148)](_0x4eeefb),microphone_options[_0x5ca1ff(0x138)](_0x4eeefb['text'])):_0x40708b[_0x5ca1ff(0x134)](_0x4eeefb[_0x5ca1ff(0x143)])==![]&&(_0x12cbb5['add'](_0x4eeefb),_0x40708b['push'](_0x4eeefb[_0x5ca1ff(0x143)]));}for(opt in microphone_options){option_gone=!![],this_option=microphone_options[opt];for(dev in current_audio_devices){this_option==current_audio_devices[dev][_0x5ca1ff(0x153)]+':\x20'+current_audio_devices[dev][_0x5ca1ff(0x139)]&&(option_gone=![]);}option_gone&&_0x5863be[_0x5ca1ff(0x13d)](opt);}for(opt in _0x40708b){option_gone=!![],this_option=_0x40708b[opt];for(dev in current_audio_devices){this_option==current_audio_devices[dev][_0x5ca1ff(0x153)]+':\x20'+current_audio_devices[dev][_0x5ca1ff(0x139)]&&(option_gone=![]);}option_gone&&_0x12cbb5['remove'](opt);}}catch(_0x363fa6){return console[_0x5ca1ff(0x155)](_0x363fa6),_0x363fa6;}}get_audio_devices(),setInterval(get_audio_devices,0x1388);async function test_speaker(){var _0xd34989=_0x587bfc,_0x1bef4f=document[_0xd34989(0x132)](_0xd34989(0x131)),_0x2df581=parseInt(_0x1bef4f[_0x1bef4f[_0xd34989(0x127)]][_0xd34989(0x135)][0x0]);try{ajax_post('/testspeaker',{'index':_0x2df581});}catch(_0x199dbc){return console['log'](_0x199dbc),_0x199dbc;}}async function test_microphone(){var _0x18f333=_0x587bfc,_0x45e142=document[_0x18f333(0x132)](_0x18f333(0x136)),_0x428693=_0x45e142[_0x18f333(0x146)][_0x45e142[_0x18f333(0x127)]][_0x18f333(0x135)],_0x29b039=_0x428693[0x0];try{ajax_post(_0x18f333(0x151),{'index':_0x29b039}),alert(_0x18f333(0x159));}catch(_0x5a2405){return console[_0x18f333(0x155)](_0x5a2405),_0x5a2405;}}async function third_signin(){var _0x368ed6=_0x587bfc;try{ajax_post('/thirdsignin');}catch(_0x302d10){return console[_0x368ed6(0x155)](_0x302d10),_0x302d10;}}